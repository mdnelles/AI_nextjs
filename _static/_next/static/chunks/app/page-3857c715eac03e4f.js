(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7269:function(e,t,s){Promise.resolve().then(s.t.bind(s,5962,23)),Promise.resolve().then(s.bind(s,5860))},5860:function(e,t,s){"use strict";s.r(t);var r=s(9268),a=s(6006),i=s(4328);let n=e=>{let{data:t,handleTagClick:s}=e;return(0,r.jsx)("div",{className:"mt-1 prompt_layout",children:t.map(e=>(0,r.jsx)(i.Z,{post:e,handleTagClick:s,handleEdit:void 0,handleDelete:void 0},e._id))})};t.default=()=>{let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),[l,o]=(0,a.useState)([]),c=async()=>{let e=await fetch("/api/prompt"),s=await e.json();t(s)};(0,a.useEffect)(()=>{c()},[]);let d=t=>{let s=RegExp(t,"i");return e.filter(e=>s.test(e.creator.username)||s.test(e.tag)||s.test(e.prompt))},u=e=>{i(e);let t=d(e);o(t)};return(0,r.jsxs)("section",{className:"feed",children:[(0,r.jsx)("form",{className:"relative w-full flex-center",children:(0,r.jsx)("input",{type:"text",placeholder:"Search for a tag or a username",value:s,onChange:e=>{i(e.target.value),setTimeout(()=>{let t=d(e.target.value);o(t)},500)},required:!0,className:"search_input peer"})}),s?(0,r.jsx)(n,{data:l,handleTagClick:u}):(0,r.jsx)(n,{data:e,handleTagClick:u})]})}},4328:function(e,t,s){"use strict";var r=s(9268),a=s(6006),i=s(6394),n=s.n(i),l=s(4751),o=s(6008);t.Z=e=>{let{post:t,handleEdit:s,handleDelete:i,handleTagClick:c}=e,{data:d}=(0,l.useSession)(),u=(0,o.usePathname)(),p=(0,o.useRouter)(),[m,h]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"prompt_card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start gap-5",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-start items-center gap-3 cursor-pointer",onClick:()=>{if(console.log(t),t.creator._id===(null==d?void 0:d.user.id))return p.push("/profile");p.push("/profile/".concat(t.creator._id,"?name=").concat(t.creator.username))},children:[(0,r.jsx)(n(),{src:t.creator.image,alt:"user_image",width:40,height:40,className:"rounded-full object-contain"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h3",{className:"font-satoshi font-semibold text-gray-900",children:t.creator.username}),(0,r.jsx)("p",{className:"font-inter text-sm text-gray-500",children:t.creator.email})]})]}),(0,r.jsx)("div",{className:"copy_btn",onClick:()=>{h(t.prompt),navigator.clipboard.writeText(t.prompt),setTimeout(()=>h(!1),3e3)},children:(0,r.jsx)(n(),{src:m===t.prompt?"/assets/icons/tick.svg":"/assets/icons/copy.svg",alt:m===t.prompt?"tick_icon":"copy_icon",width:12,height:12})})]}),(0,r.jsx)("p",{className:"my-4 font-satoshi text-sm text-gray-700",children:t.prompt}),(0,r.jsx)("p",{className:"my-4 font-satoshi text-sm text-gray-500 bg-blue-200 rounded-md p-3",children:t.airesp}),(0,r.jsxs)("p",{className:"font-inter text-sm blue_gradient cursor-pointer",onClick:()=>c&&c(t.tag),children:["#",t.tag]}),(null==d?void 0:d.user.id)===t.creator._id&&"/profile"===u&&(0,r.jsxs)("div",{className:"mt-5 flex-center gap-4 border-t border-gray-100 pt-3",children:[(0,r.jsx)("p",{className:"font-inter text-sm green_gradient cursor-pointer",onClick:s,children:"Edit"}),(0,r.jsx)("p",{className:"font-inter text-sm orange_gradient cursor-pointer",onClick:i,children:"Delete"})]})]})}},6394:function(e,t,s){e.exports=s(5962)},6008:function(e,t,s){e.exports=s(794)}},function(e){e.O(0,[751,962,253,769,744],function(){return e(e.s=7269)}),_N_E=e.O()}]);